[[junior linux]]

Swappiness — это параметр ядра Linux, который управляет тем, как система использует swap-память (файл или раздел на диске, используемый для хранения данных, которые не помещаются в оперативную память). Он определяет приоритет использования swap по сравнению с оперативной памятью (RAM).

### Значение параметра swappiness

Параметр swappiness имеет значение от 0 до 100:

- 0: Система будет стараться минимально использовать swap-память, и она будет производить свопирование, только когда свободная оперативная память станет очень низкой. Это может быть полезно для систем, требующих высокой производительности, таких как серверы баз данных.
  
- 100: Система будет более склонна использовать swap-память. Это означает, что ядро будет более активно перемещать данные из оперативной памяти в swap, даже если в ней достаточно свободного места. Это может быть полезно для систем с ограниченной оперативной памятью.

- Значения между 0 и 100 позволяют настроить баланс между использованием оперативной памяти и swap в зависимости от требований приложения и особенностей работы системы.

### Как проверить текущее значение swappiness

Для того чтобы проверить текущее значение параметра swappiness, можно использовать команду:

```bash
cat /proc/sys/vm/swappiness
```

### Как изменить значение swappiness

1. Временное изменение: Для временного изменения значения swappiness до следующей перезагрузки используйте команду:

   ```bash
   sudo sysctl vm.swappiness=значение
   ```

2. Постоянное изменение: Чтобы сделать изменение постоянным, добавьте строку в файл `/etc/sysctl.conf`:

   ```bash
   vm.swappiness=значение
   ```

   После этого примените изменения командой:

   ```bash
   sudo sysctl -p
   ```

### Зачем необходимо настраивать swappiness?

- Оптимизация производительности: На системах, где требуется высокая производительность (например, серверы), может быть полезно установить низкое значение swappiness, чтобы сократить использование swap и повысить производительность оперативной памяти.
  
- Системы с ограниченной памятью: На системах с ограниченной памятью, наоборот, может быть полезно увеличить значение swappiness, чтобы предотвратить недостаток памяти, позволяя системе активно использовать swap при необходимости.

### Заключение

Параметр swappiness является мощным инструментом настройки системы, который позволяет администраторам управлять использованием оперативной памяти и swap в зависимости от специфических требований работы приложений и особенностей рабочей нагрузки.