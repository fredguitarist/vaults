
[[junior linux]]

В Linux и Unix-системах вы можете перенаправлять потоки стандартного ввода (stdin), стандартного вывода (stdout) и стандартного вывода ошибок (stderr) с помощью различных операторов перенаправления. Чтобы перенаправить одновременно stderr и stdin, нас интересует использование файловых дескрипторов.

### Основные понятия

- stdin (стандартный ввод) имеет файловый дескриптор `0`.
- stdout (стандартный вывод) имеет файловый дескриптор `1`.
- stderr (стандартный вывод ошибок) имеет файловый дескриптор `2`.

### Перенаправление stderr и stdin

Если вам нужно одновременно перенаправить стандартный ввод и стандартный вывод ошибок, вот как это можно сделать:

1. Перенаправление stderr в файл:
   Например, если вы хотите перенаправить stderr в файл, а stdin оставить как есть:

   ```bash
   command 2> error.log
   ```

2. Перенаправление stderr и stdout в файл:
   Если требуется, чтобы и stdout, и stderr перенаправлялись в один и тот же файл:

   ```bash
   command > output.log 2>&1
   ```

   Здесь `2>&1` означает "перенаправить stderr (2) туда, куда перенаправлен stdout (1)".

3. Перенаправление stdin из файла и stderr в другой файл:
   Если вы хотите, чтобы стандартный ввод поступал из одного файла (например, `input.txt`), а стандартный вывод ошибок перенаправлялся в другой файл (например, `error.log`), вы можете сделать это следующим образом:

   ```bash
   command < input.txt 2> error.log
   ```

### Пример использования

Допустим, у вас есть скрипт `script.sh`, который принимает стандартный ввод и выводит информацию об ошибках. Вы можете сделать следующее:

```bash
./script.sh < input.txt > output.log 2> error.log
```

### Перенаправление в одной команде

Если необходимо объединить все вместе, вы можете использовать следующую команду, чтобы перенаправить и stdin, и stderr в файлы, или как часто это делается, в один файл:

```bash
command < input.txt > output.log 2>&1
```

### Резюме

- Используйте `2>` для перенаправления stderr в файл.
- Используйте `>` для перенаправления stdout в файл.
- Используйте `<` для перенаправления stdin из файла.
- Вы можете объединять эти операторы для достижения желаемого результата.